@page "/"
@using MudBlazor

<PageTitle>Solicitudes Pendientes</PageTitle>

<h1 class="text-center mb-4">Solicitudes Pendientes</h1>

<div class="dashboard-container">
    <MudGrid Justify="Justify.Center">
        <MudItem xs="12" sm="4" md="4">
            <MudCard Class="card card-green">
                <MudCardContent @onclick="@(() => ToggleVisibility(0))">
                    <MudText Typo="Typo.h6">2 Solicitudes</MudText>
                    <MudText>Estado: <strong>Abiertas</strong></MudText>
                    @if (isVisible[0])
                    {
                        <div class="scroll-container">
                            @for (int i = 1; i <= 2; i++)
                            {
                                <MudText>Solicitud @i</MudText>
                            }
                        </div>
                    }
                </MudCardContent>
            </MudCard>
        </MudItem>

        <MudItem xs="12" sm="4" md="4">
            <MudCard Class="card card-yellow">
                <MudCardContent @onclick="@(() => ToggleVisibility(1))">
                    <MudText Typo="Typo.h6">15 Solicitudes</MudText>
                    <MudText>Estado: <strong>En Progreso</strong></MudText>
                    @if (isVisible[1])
                    {
                        <div class="scroll-container">
                            @for (int i = 1; i <= 15; i++)
                            {
                                <MudText>Solicitud @i</MudText>
                            }
                        </div>
                    }
                </MudCardContent>
            </MudCard>
        </MudItem>

        <MudItem xs="12" sm="4" md="4">
            <MudCard Class="card card-red">
                <MudCardContent @onclick="@(() => ToggleVisibility(2))">
                    <MudText Typo="Typo.h6">7 Solicitudes</MudText>
                    <MudText>Estado: <strong>Cerradas</strong></MudText>
                    @if (isVisible[2])
                    {
                        <div class="scroll-container">
                            @for (int i = 1; i <= 7; i++)
                            {
                                <MudText>Solicitud @i</MudText>
                            }
                        </div>
                    }
                </MudCardContent>
            </MudCard>
        </MudItem>
    </MudGrid>
</div>

@code {
    private bool[] isVisible = new bool[3]; // 3 tarjetas, así que usamos un array de 3 elementos

    private void ToggleVisibility(int index)
    {
        isVisible[index] = !isVisible[index]; // Cambia el estado de visibilidad al hacer clic
    }
}

<style>
    .dashboard-container {
        padding: 20px;
    }

    .card {
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        padding: 16px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        cursor: pointer; /* Cambia el cursor para indicar que se puede hacer clic */
    }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

    h1 {
        font-size: 2rem;
        color: #333;
    }

    .card .mud-text {
        color: #555;
    }

    /* Colores para las tarjetas */
    .card-green {
        background-color: #d4edda;
    }

    .card-yellow {
        background-color: #fff3cd;
    }

    .card-red {
        background-color: #f8d7da;
    }

    /* Estilo para la lista scrollable */
    .scroll-container {
        max-height: 150px; /* Ajusta la altura máxima de la lista */
        overflow-y: scroll; /* Permite el desplazamiento vertical */
        margin-top: 10px;
        padding-right: 8px; /* Para asegurarse de que el contenido no se oculte debajo de la barra de desplazamiento */
    }

        .scroll-container::-webkit-scrollbar {
            width: 6px; /* Reduce el tamaño de la barra de desplazamiento */
        }

        .scroll-container::-webkit-scrollbar-thumb {
            background-color: #888; /* Color de la barra de desplazamiento */
            border-radius: 10px; /* Bordes redondeados */
        }

            .scroll-container::-webkit-scrollbar-thumb:hover {
                background-color: #555; /* Color más oscuro al pasar el ratón */
            }

        .scroll-container .mud-text {
            margin-bottom: 5px;
        }
</style>
